{% extends 'base.html' %} {% block content %}
    {% set active_tab = 'details' %}
    {% include 'ap-tabs.html' %}
    <div class="container">
        <div class="card mt-3">
            <div class="card-header">Project Details</div>
            <div class="card-body">
                <form action=""
                      hx-put="/ap/project/{{ project.id }}"
                      hx-swap="none"
                      hx-trigger="submit delay:200ms"
                >
                    <div class="row">
                        <div class="col">
                            <label class="form-label">Client</label>
                            <input
                                    type="text"
                                    class="form-control"
                                    value="{{ project.client }}"
                                    name="project_name"
                                    id=""
                                    readonly
                            />
                        </div>
                        <div class="col">
                            <label class="form-label">Quotation Number</label>
                            <input
                                    type="text"
                                    class="form-control"
                                    value="{{ project.quotation }}"
                                    name="quotation"
                                    id=""
                                    readonly
                            />
                        </div>
                        <div class="col">
                            <label class="form-label">Acceptance Number</label>
                            <input
                                    type="text"
                                    class="form-control"
                                    value="{{ project.acceptance }}"
                                    name="acceptance"
                                    id=""
                                    readonly
                            />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <label class="form-label" for="total_po_amount">Total Purchase Order Amount</label>
                            <div class="input-group mb-3">
                                <span class="input-group-text" id="basic-addon1">{{ project.currency }}</span>
                                <input
                                        type="number"
                                        step="0.01"
                                        class="form-control"
                                        value="{{ project.total_po_amount }}"
                                        name="total_po_amount"
                                        id=""
                                        aria-describedby="basic-addon1"
                                        readonly
                                />

                            </div>
                        </div>
                        <div class="col">
                            <label class="form-label">Total Paid Amount</label>
                            <div class="input-group mb-3">
                                <span class="input-group-text" id="basic-addon1">{{ project.currency }}</span>
                                <input
                                        type="number"
                                        step="0.01"
                                        class="form-control"
                                        value="{{ project.total_paid }}"
                                        name="total_paid"
                                        id=""
                                        readonly
                                />
                            </div>
                        </div>
                        <div class="col">
                            <label class="form-label">Balance</label>
                            <div class="input-group mb-3">
                                <span class="input-group-text" id="basic-addon1">{{ project.currency }}</span>
                                <input

                                        type="number"
                                        step="0.01"
                                        class="form-control"
                                        value="{{ project.balance }}"
                                        name="balance"
                                        id=""
                                        readonly
                                />
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div class="card mt-3">
            {#        TODO: Add lists of Vendor POs#}
            <div class="card-header">Vendor Purchase Orders</div>
            <div class="card-body">
                <table class="table table-hover">
                    <thead>
                    <tr>
                        <th scope="col">Vendor PO Number</th>
                        <th scope="col">Vendor</th>
                        <th scope="col">Total PO Amount</th>
                        <th scope="col">Total Paid Amount</th>
                        <th scope="col">Balance</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for vendor_po in vendor_po_list %}
{#                        TODO: Make the rows clickable.#}
                        <tr>
                            <td>{{ vendor_po.vendor_po }}</td>
                            <td>{{ vendor_po.vendor }}</td>
                            <td>{{ vendor_po.po_amount }}</td>
                            <td>{{ vendor_po.po_amount - vendor_po.balance }}</td>
                            <td>{{ vendor_po.balance }}</td>
                        <tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
{% endblock %}
